{
  "entities": {
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the apparel catalog.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Product entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the product."
        },
        "category": {
          "type": "string",
          "description": "Category of the product (e.g., Knitwear, Woven, Denim, Sweater)."
        },
        "segment": {
          "type": "string",
          "description": "Target segment for the product (e.g., Menswear, Womenswear, Kids & Newborn, Unisex)."
        },
        "sourcingModel": {
          "type": "string",
          "description": "Sourcing model for the product (Manufacturer or Trading Partner)."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "category",
        "segment",
        "sourcingModel",
        "imageUrl"
      ]
    },
    "Inquiry": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Inquiry",
      "type": "object",
      "description": "Represents an inquiry submitted through the contact form.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Inquiry entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the inquiry."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the inquiry.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "The message content of the inquiry."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the inquiry was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "message",
        "submissionDate"
      ]
    },
    "CompanyProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CompanyProfile",
      "type": "object",
      "description": "Represents the company's profile information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CompanyProfile entity."
        },
        "aboutUs": {
          "type": "string",
          "description": "Description about the company."
        },
        "vision": {
          "type": "string",
          "description": "Company's vision statement."
        },
        "mission": {
          "type": "string",
          "description": "Company's mission statement."
        },
        "coreValues": {
          "type": "string",
          "description": "Company's core values."
        }
      },
      "required": [
        "id",
        "aboutUs",
        "vision",
        "mission",
        "coreValues"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores product information. Publicly accessible for read operations. productId is the unique product ID.",
          "params": [
            {
              "name": "productId",
              "description": "Unique identifier for the product."
            }
          ]
        }
      },
      {
        "path": "/companyProfiles/{companyProfileId}",
        "definition": {
          "entityName": "CompanyProfile",
          "schema": {
            "$ref": "#/backend/entities/CompanyProfile"
          },
          "description": "Stores company profile information. Publicly accessible for read operations. companyProfileId represents the unique ID for the profile.",
          "params": [
            {
              "name": "companyProfileId",
              "description": "Unique identifier for the company profile."
            }
          ]
        }
      },
      {
        "path": "/inquiries/{inquiryId}",
        "definition": {
          "entityName": "Inquiry",
          "schema": {
            "$ref": "#/backend/entities/Inquiry"
          },
          "description": "Stores inquiries submitted via the contact form. Access restricted to authorized admins. inquiryId is the unique inquiry ID.",
          "params": [
            {
              "name": "inquiryId",
              "description": "Unique identifier for the inquiry."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to support the MSS Group BD application, focusing on products, company profiles, and inquiries. It emphasizes security, scalability, and ease of debugging. Authorization Independence is achieved by avoiding hierarchical `get()` calls in security rules. Each top-level collection serves a distinct purpose, simplifying security rule definition. Segregation is used to separate different types of data into different collections based on their distinct security needs (e.g., public product data vs. private inquiry submissions). Products and company profiles are designed for public read access while inquiries are secured to prevent unauthorized access. No denormalization is needed as read access is public for products and company profiles. This structure ensures that listing operations (`list`) are secure by restricting them based on the role and specific use-case for each collection. Inquiries leverage submissionDate to enable listing by time windows."
  }
}