{
  "entities": {
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the apparel catalog.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product."
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the product."
        },
        "category": {
          "type": "string",
          "description": "Category of the product (e.g., Knitwear, Woven, Denim, Sweater)."
        },
        "segment": {
          "type": "string",
          "description": "Segment of the product (e.g., Menswear, Womenswear, Kids & Newborn, Unisex)."
        },
        "sourcingModel": {
          "type": "string",
          "description": "Sourcing model of the product (Manufacturer / Trading Partner)."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "category",
        "segment",
        "sourcingModel",
        "imageUrl"
      ]
    },
    "Inquiry": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Inquiry",
      "type": "object",
      "description": "Represents an inquiry submitted through the contact form.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the inquiry."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the inquiry."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the inquiry.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "The inquiry message."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the inquiry was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "message",
        "timestamp"
      ]
    },
    "CompanyProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CompanyProfile",
      "type": "object",
      "description": "Represents company profile information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the company profile."
        },
        "aboutUs": {
          "type": "string",
          "description": "About us information."
        },
        "vision": {
          "type": "string",
          "description": "Company vision statement."
        },
        "mission": {
          "type": "string",
          "description": "Company mission statement."
        },
        "coreValues": {
          "type": "string",
          "description": "Company core values."
        }
      },
      "required": [
        "id",
        "aboutUs",
        "vision",
        "mission",
        "coreValues"
      ]
    },
    "QualityCompliance": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "QualityCompliance",
      "type": "object",
      "description": "Represents quality and compliance information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the quality and compliance information."
        },
        "qaFlowSteps": {
          "type": "string",
          "description": "Quality assurance flow steps."
        },
        "inspectionStages": {
          "type": "string",
          "description": "Inspection stages."
        },
        "workerSafetyEthics": {
          "type": "string",
          "description": "Information on worker safety and ethics."
        },
        "complianceCommitment": {
          "type": "string",
          "description": "Compliance commitment statement."
        }
      },
      "required": [
        "id",
        "qaFlowSteps",
        "inspectionStages",
        "workerSafetyEthics",
        "complianceCommitment"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores product information. No denormalized authorization fields needed for public read access.",
          "params": [
            {
              "name": "productId",
              "description": "Unique identifier for the product."
            }
          ]
        }
      },
      {
        "path": "/inquiries/{inquiryId}",
        "definition": {
          "entityName": "Inquiry",
          "schema": {
            "$ref": "#/backend/entities/Inquiry"
          },
          "description": "Stores contact form submissions (inquiries). No denormalized authorization fields are needed, as only authenticated users may create documents.",
          "params": [
            {
              "name": "inquiryId",
              "description": "Unique identifier for the inquiry."
            }
          ]
        }
      },
      {
        "path": "/company_profile/{companyProfileId}",
        "definition": {
          "entityName": "CompanyProfile",
          "schema": {
            "$ref": "#/backend/entities/CompanyProfile"
          },
          "description": "Stores company profile details. No denormalized authorization fields are needed for public read access.",
          "params": [
            {
              "name": "companyProfileId",
              "description": "Unique identifier for the company profile."
            }
          ]
        }
      },
      {
        "path": "/quality_compliance/{qualityComplianceId}",
        "definition": {
          "entityName": "QualityCompliance",
          "schema": {
            "$ref": "#/backend/entities/QualityCompliance"
          },
          "description": "Stores quality and compliance information. No denormalized authorization fields needed for public read access.",
          "params": [
            {
              "name": "qualityComplianceId",
              "description": "Unique identifier for the quality and compliance information."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to store product information, company details, and inquiries submitted through the contact form. This structure prioritizes simplicity and ease of management while adhering to the principles of Authorization Independence (though authentication is limited to anonymous and password for now), Clarity of Intent, and Rules are Not Filters.\n\n*   `/products`: Stores product information.\n*   `/company_profile`: Stores company profile details.\n*   `/quality_compliance`: Stores quality and compliance information.\n*   `/inquiries`: Stores contact form submissions (inquiries).\n\n**Authorization Independence:** Currently, the structure does not explicitly enforce granular authorization rules beyond authentication. If more complex access control is required in the future (e.g., restricting access to product details based on user roles or company partnerships), relevant authorization data (e.g., a `members` map or `ownerId`) will be added to the documents to eliminate the need for `get()` calls in security rules.\n\n**QAPs (Rules are not Filters):** The structure uses structural segregation by storing different types of data in separate collections, enforcing a homogeneous security posture within each collection. The `/inquiries` collection can be secured such that only authenticated users can create inquiries. The list operation on `/products` can be public, as sensitive data should not be stored in the products collection."
  }
}